---
title: 缓存雪崩
date: 2021-04-20 13:08:04

tags:

- REDIS

categories:

- REDIS

isShowComments: true
---

## 缓存雪崩

**场景**

- 由于某些原因，缓存层不能提供服务，导致所有的请求直达存储层，造成存储层宕机。

**解决方案**

- 1、避免同时过期
  设置过期时间时，附加一个随机数，避免大量的key同时过期。

- 2、构建高可用的Redis缓存
  部署多个Redis实例，个别节点宕机，依然可以保持服务的整体可用。

- 3、构建多级缓存
  增加本地缓存，在存储层前面多加一级屏障，降低请求直达存储层的几率。

- 4、启用限流和降级措施
  对存储层增加限流措施，当请求超出限制时，对其提供降级服务。
