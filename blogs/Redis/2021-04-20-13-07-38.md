---
title: 缓存击穿
date: 2021-04-20 13:07:38

tags:

- REDIS

categories:

- REDIS

isShowComments: true
---

## 缓存击穿

**场景**

- 一份热点数据，它的访问量非常大。在其缓存失效瞬间，大量请求直达存储层，导致服务崩溃。

**解决方案**

- 1、加互斥锁
  对数据的访问加互斥锁，当一个线程访问该数据时，其他线程只能等待。
  这个线程访问过后，缓存中的数据将被重建，届时其他线程就可以直接从缓存取值。

- 2、永不过期
  不设置过期时间，所以不会出现上述问题，这是“物理”上的不过期。
  为每个value设置逻辑过期时间，当发现该值逻辑过期时，使用单独的线程重建缓存。

